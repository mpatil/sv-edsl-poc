## File generated by the BNF Converter (bnfc 2.9.6).

SVLEX = ${LEXPATH}/lex
SVLEX_OPTS = -v

SVACC = ${YACCPATH}/svacc
SVACC_OPTS = -SVsemantic=svtype -v

QRUN = qrun
QRUN_OPTS = -64 -sv -mfcu -permissive -l comp.log -suppress 2875,2240 +incdir+./ +UVM_NO_RELNOTES

.PHONY : clean distclean

all : qrun

clean :
	rm -rf C/CParser.svh C/CLexer.svh qrun.out test-vcs

distclean : clean
	rm -f C/CAbsyn.svh C/CAbsyn.sv C.l C.y C/CPrinter.sv C/CPrinter.svh C/CInterp.sv C/CInterp.svh Test.sv C/C_pkg.sv C/C.core comp.log modelsim.ini C/*.bak y.output Makefile C.tex

.PHONY: qrun
qrun : fusesoc Test.sv
	${QRUN} ${QRUN_OPTS} -F test-vcs/lib_interp_C_0.scr Test.sv +input=test.w

C/CLexer.svh : C.l
	${SVLEX} ${SVLEX_OPTS} C.l
	mv lex.yy.v C/CLexer.svh

C/CParser.svh : C.y
	${SVACC} ${SVACC_OPTS} C.y
	mv Parser.svh C/CParser.svh
	cp ${YACCPATH}/bio.svh C

.PHONY: fusesoc
fusesoc : C/CParser.svh C/CLexer.svh
	fusesoc --cores-root . run --no-export --target=test --build-root=. --setup lib:interp:C
