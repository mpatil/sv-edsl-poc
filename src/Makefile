## File generated by the BNF Converter (bnfc 2.9.6).

SVLEX = ${LEXPATH}/lex
SVLEX_OPTS = -v

SVACC = ${YACCPATH}/svacc
SVACC_OPTS = -SVsemantic=svtype -v

QRUN = qrun
QRUN_OPTS = -64 -sv -mfcu -permissive -l comp.log -suppress 2875,2240 +incdir+./ +UVM_NO_RELNOTES

.PHONY : clean distclean

all : qrun

clean :
	rm -rf Parser.svh Lexer.svh qrun.out test-vcs

distclean : clean
	rm -f Absyn.svh Absyn.sv C.l C.y Printer.sv Printer.svh Interp.sv Interp.svh Test.sv C_pkg.sv C.core comp.log modelsim.ini *.bak y.output Makefile C.tex

.PHONY: qrun
qrun : fusesoc Test.sv
	${QRUN} ${QRUN_OPTS} -F test-vcs/lib_interp_C_0.scr Test.sv +input=test.w

Lexer.svh : C.l
	${SVLEX} ${SVLEX_OPTS} C.l
	mv lex.yy.v Lexer.svh

Parser.svh : C.y
	${SVACC} ${SVACC_OPTS} C.y

.PHONY: fusesoc
fusesoc : Parser.svh Lexer.svh
	fusesoc --cores-root . run --no-export --target=test --build-root=. --setup lib:interp:C
